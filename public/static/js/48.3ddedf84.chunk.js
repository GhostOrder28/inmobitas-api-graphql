"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[48],{991:function(n,e,t){t(7313);var i=t(7908),r=t(6417);e.Z=function(n){var e=n.icon,t=n.onClick,o=n.color;return(0,r.jsx)(i.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,r.jsx)(e,{color:o})})}},7403:function(n,e,t){var i=t(5861),r=t(4942),o=t(1413),c=t(9439),u=t(7757),a=t.n(u),s=t(7313),l=t(7890),d=t(6352),f=t(2682),g=t(7908),h=t(6267),p=t(5611),Z=t(6020),v=t(3202),x=t(2649),w=t(9502),m=t(5818),j=t(1837),b=t(3819),k=t(5110),P=t(2497),C=t(8408),S=t(8474),I=t(9873),y=t(991),E=t(5997),T=t(9958),H=t(8710),A=t(6417);e.Z=function(n){var e=n.source,t=n.setSource,u=n.labels,L=n.detailRouteStructure,M=n.editRouteStructure,W=n.deleteBaseUrl,R=(0,l.s0)(),U=(0,s.useRef)(null),z=(0,P.Z)(U),X=(0,d.v9)(f.vn),O=(0,s.useState)(null),N=(0,c.Z)(O,2),Y=N[0],_=N[1],B=(0,s.useState)(),F=(0,c.Z)(B,2),D=F[0],G=F[1],$=(0,s.useRef)(null);(0,S.Z)($,(function(){return _(null)}));var q=(0,C.Z)(),J=(0,s.useMemo)((function(){return e.map((function(n){return Object.keys(n).reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},t,n[t]))}),{})}))}),[e]),K=(0,s.useMemo)((function(){return e.length?Object.keys(e[0]).filter((function(n){return!n.includes("Id")})).map((function(n,e){return{Header:u[e],accessor:n}})):[]}),[e]),Q=(0,k.useTable)({columns:K,data:J,initialState:{pageIndex:0}},k.usePagination),V=Q.getTableProps,nn=Q.headerGroups,en=Q.prepareRow,tn=Q.page,rn=Q.pageCount,on=Q.state,cn=Q.setPageSize,un=Q.previousPage,an=Q.nextPage,sn=Q.gotoPage,ln=function(){var n=(0,i.Z)(a().mark((function n(i,r,o){var c,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.Z.delete("".concat(W,"/").concat(i,"/").concat(r));case 2:c=n.sent,u=e.filter((function(n){return n[o]!==c.data})),t(u),_(null);case 6:case"end":return n.stop()}}),n)})));return function(e,t,i){return n.apply(this,arguments)}}();(0,s.useEffect)((function(){if(z){var n=(0,H.b)(z,64);n>0&&cn(n)}}),[z]);return(0,A.jsxs)(g.Z,{children:[(0,A.jsxs)(h.Z,(0,o.Z)((0,o.Z)({flex:1},V()),{},{children:[(0,A.jsxs)(p.Z,{display:"flex",userSelect:"none",children:[nn.map((function(n){return n.headers.map((function(n,e){return(0,A.jsx)(Z.Z,(0,o.Z)((0,o.Z)({flex:.45},n.getHeaderProps()),{},{children:n.render("Header")}))}))})),(0,A.jsx)(Z.Z,{flex:.3})]}),(0,A.jsx)(v.Z,{ref:U,height:z,children:tn.map((function(n,t){var i=Object.keys(n.original).find((function(n){return n.includes("Id")}));return en(n),(0,A.jsxs)(x.Z,(0,o.Z)((0,o.Z)({isHighlighted:Y===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===q?function(){return _(t)}:void 0,onMouseLeave:"desktop"===q?function(){return _(null)}:void 0,onTouchStart:"touchscreen"===q?function(){G(setTimeout((function(){return _(t)}),500))}:void 0,onTouchEnd:"touchscreen"===q?function(){clearTimeout(D)}:void 0,onTouchMove:"touchscreen"===q?function(){clearTimeout(D)}:void 0,onClick:function(){"touchscreen"===q?Y?_(null):R((0,I.UM)(e[t],L)):R((0,I.UM)(tn[t],L))}},n.getRowProps()),{},{children:[n.cells.map((function(e,t){return(0,A.jsx)(w.Z,{flex:.45,paddingX:t===n.cells.length-1?0:12,children:(0,A.jsx)(m.Z,{children:e.render("Cell")})},"item-prop-".concat(t))})),(0,A.jsx)(w.Z,{flex:.3,paddingX:0,children:t===Y&&(0,A.jsxs)(g.Z,{ref:$,display:"flex",width:"100%",height:"100%",children:[(0,A.jsx)(y.Z,{icon:j.d,onClick:function(n){n.stopPropagation(),R((0,I.UM)(tn[t],M))}}),(0,A.jsx)(y.Z,{icon:b.a,color:"danger",onClick:function(e){e.stopPropagation(),ln(X,n.original[i],i)}})]})})]}))}))})]})),(0,A.jsx)(g.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,A.jsx)(T.Z,{page:on.pageIndex+1,totalPages:rn,onNextPage:an,onPreviousPage:un,onPageChange:function(n){return sn(n-1)}})})]})}},8710:function(n,e,t){t.d(e,{b:function(){return i}});var i=function(n,e){return Math.floor(n/e)}},2201:function(n,e,t){t(7313);var i=t(7908),r=t(6228),o=t(8225),c=t(9466),u=t(7202),a=t(6417);e.Z=function(n){var e=n.messageText,t=n.linkText,s=n.url,l=(0,u.Z)(),d=l.windowInnerWidth,f=l.windowInnerHeight;return(0,a.jsx)(i.Z,{position:"absolute",display:"flex",justifyContent:"center",top:f/2,left:0,paddingX:(0,r.Z)(4),width:d,children:(0,a.jsxs)(o.Z,{is:"h1",color:"#474d66",children:[e,t&&s&&(0,a.jsx)(c.rU,{to:s,className:"link blue",children:t})]})})}},9958:function(n,e,t){var i=t(1413),r=t(5987),o=t(7313),c=t(9525),u=t(5818),a=t(6228),s=t(2520),l=t(7908),d=t(618),f=t(8756),g=t(9964),h=t(6417),p=["isSelected","onPageChange","page"],Z=function(n){var e=n.isSelected,t=n.onPageChange,l=n.page,d=(0,r.Z)(n,p),f=(0,c.Z)().colors,g="string"===typeof l&&"..."===l,Z=(0,o.useMemo)((function(){return e?{backgroundColor:f.blue50,color:f.blue400}:{}}),[e,f]),v=(0,o.useCallback)((function(){t(l)}),[l,t]);return g?(0,h.jsx)(u.Z,{paddingX:(0,a.Z)(1),paddingY:(0,a.Z)(1),minWidth:(0,a.Z)(4),textAlign:"center","aria-label":"Pagination overflow",children:l}):(0,h.jsx)(s.ZP,(0,i.Z)((0,i.Z)({"aria-current":e,"aria-label":"Page ".concat(l),onClick:v,minWidth:(0,a.Z)(4),paddingX:(0,a.Z)(1)},Z),d))};e.Z=function(n){var e=n.onNextPage,t=n.onPageChange,i=n.onPreviousPage,r=n.page,o=void 0===r?1:r,c=n.totalPages,u=function(n,e){for(var t=[],i=n;i<=e;i++)t.push(i);return t}(1,c);return(0,h.jsx)(l.Z,{is:"nav",children:(0,h.jsxs)(l.Z,{is:"ul",height:50,display:"flex",alignItems:"center",padding:0,margin:0,children:[(0,h.jsx)(l.Z,{is:"li",listStyle:"none",padding:0,children:(0,h.jsx)(d.Z,{appearance:"minimal",icon:f.w,disabled:1===o,onClick:i})}),u.map((function(n,e){var i=n===o;return(0,h.jsx)(l.Z,{is:"li",listStyle:"none",children:(0,h.jsx)(Z,{appearance:"minimal",isSelected:i,page:n,onPageChange:t,children:n})},"".concat(o,"-").concat(e))})),(0,h.jsx)(l.Z,{is:"li",listStyle:"none",padding:0,children:(0,h.jsx)(d.Z,{appearance:"minimal",icon:g.X,disabled:c?o===c:void 0,onClick:e})})]})})}},497:function(n,e,t){t.d(e,{Il:function(){return o},YC:function(){return i},ub:function(){return r}});var i=992,r=768,o=480},8474:function(n,e,t){var i=t(7313);e.Z=function(n,e){(0,i.useEffect)((function(){var t=function(t){var i;console.log("clicked!"),!t.target.isConnected||null!==n&&void 0!==n&&null!==(i=n.current)&&void 0!==i&&i.contains(t.target)||e()};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}}),[e,n])}},8408:function(n,e){e.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(n,e){var t,o=(0,r.useState)(),c=(0,i.Z)(o,2),u=c[0],a=c[1],s=function(){if(null!==n&&void 0!==n&&n.current){var t,i=0;i=window.innerHeight-(null===(t=n.current)||void 0===t?void 0:t.offsetTop)-1,null!==e&&void 0!==e&&e.extraSpace&&(i-=e.extraSpace),null!==e&&void 0!==e&&e.ignorePaginationSpace?a(i):a(i-50)}};return(0,r.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]),(0,r.useEffect)((function(){s()}),[null===(t=n.current)||void 0===t?void 0:t.offsetTop]),u}},7202:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(){var n=(0,r.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),e=(0,i.Z)(n,2),t=e[0],o=e[1];return(0,r.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},5048:function(n,e,t){t.r(e);var i=t(3433),r=t(5861),o=t(9439),c=t(7757),u=t.n(c),a=t(7313),s=t(6352),l=t(7908),d=t(4511),f=t(7202),g=t(5997),h=t(2682),p=t(7403),Z=(t(8435),t(497)),v=t(6174),x=t(2201),w=t(6417);e.default=function(){var n=(0,a.useState)([]),e=(0,o.Z)(n,2),t=e[0],c=e[1],m=(0,a.useState)(!1),j=(0,o.Z)(m,2),b=j[0],k=j[1],P=(0,s.v9)(h.vn),C=(0,d.$)(["listing","ui"]).t,S=(0,f.Z)(),I=S.windowInnerWidth;S.windowInnerHeight;return(0,a.useEffect)((function(){(0,r.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.get("/listings/".concat(P));case 3:(e=n.sent).data.length?c(e.data):k(!0),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]),(0,w.jsxs)(l.Z,{children:[b&&(0,w.jsx)(x.Z,{messageText:C("noListings",{ns:"ui"})+", ",linkText:C("startAddingOne",{ns:"ui"}),url:"/newlisting"}),t.length?(0,w.jsx)(p.Z,{source:I>Z.Il?t:(0,v.A)(t),setSource:c,labels:[C("district"),C("neighborhood")].concat((0,i.Z)(I>Z.Il?[C("totalArea")+" m\xb2",C("builtArea")+" m\xb2"]:[])),detailRouteStructure:["listingdetail","clientId","estateId"],editRouteStructure:["editlisting","clientId","estateId"],deleteBaseUrl:"/listings"}):""]})}},6174:function(n,e,t){t.d(e,{A:function(){return c}});var i=t(1413),r=t(5987),o=["totalArea","builtArea"],c=function(n){return n.map((function(n){n.totalArea,n.builtArea;var e=(0,r.Z)(n,o);return(0,i.Z)({},e)}))}},5997:function(n,e,t){t.d(e,{Y:function(){return u}});var i=t(1881),r=t.n(i),o=t(460),c=t(8121),u={withCredentials:!0,baseURL:"https://inmobitas-api-production.up.railway.app/"},a=r().create(u);a.interceptors.response.use((function(n){return n}),(function(n){return n.response.data.authorizationError&&o.h.dispatch((0,c.P_)()),Promise.reject(n)})),e.Z=a},8435:function(){}}]);